<div class="container">

  <!-- Bootstrap styling created using code from https://codepen.io/jaycbrf/pen/iBszr -->
  
  <form class="form-horizontal bg-primary img-rounded" id="contact_form" name='regForm' novalidate>
    <h2 class="text-center">Newsletter Registration</h2>

    <fieldset>
      <!-- First Name -->
      <div class="form-group">
        <label class="col-md-3 control-label">First Name</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <input name="first_name" placeholder="First Name" class="form-control" type="text"
              ng-model="reg.user.first_name" required minlength="2" ng-maxlength="20">
          </div>
        </div>
        
        <!-- Error Messages -->
        <div class="col-md-5">
          <span ng-if="(regForm.first_name.$error.minlength || regForm.first_name.$error.required) && regForm.first_name.$touched">
            Your First Name must be at least 2 characters long
          </span>
          
          <span ng-if="regForm.first_name.$error.maxlength && regForm.first_name.$touched">
            Your First Name must not be longer than 20 characters
          </span>
        </div>
      </div>

      <!-- Last Name -->
      <div class="form-group">
        <label class="col-md-3 control-label">Last Name</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <input name="last_name" placeholder="Last Name" class="form-control" type="text"
              ng-model="reg.user.last_name" required minlength="2" ng-maxlength="20">
          </div>
        </div>
        
        <!-- Error Messages -->
        <div class="col-md-5">
          <span ng-if="(regForm.last_name.$error.minlength || regForm.last_name.$error.required) && regForm.last_name.$touched">
            Your Last Name must be at least 2 characters long
          </span>
          <span ng-if="regForm.last_name.$error.maxlength && regForm.last_name.$touched">
            Your Last Name must not be longer than 20 characters
          </span>
        </div>
      </div>

      <!-- Email-->
      <div class="form-group">
        <label class="col-md-3 control-label">E-Mail</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
            <input name="email" placeholder="E-Mail Address" class="form-control" type="text" ng-model="reg.user.email" required>
          </div>
        </div>
        
        <!-- Error Messages -->
        <div class="col-md-5">
          <div>
            <span ng-if="regForm.email.$invalid && regForm.email.$touched">
              Must be a valid email address: handle@domain format
            </span>
          </div>
        </div>
      </div>


      <!-- Phone-->
      <div class="form-group">
        <label class="col-md-3 control-label">Phone #</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
            <input name="phone" placeholder="845-555-1212" class="form-control" type="text" ng-model="reg.user.phone" pattern="(\d{3})-(\d{3})-(\d{4})">
          </div>
        </div>
        
        <!-- Error Messages -->
        <div class="col-md-5">
          <div>
            <span ng-if="regForm.phone.$invalid && regForm.phone.$touched">
              Phone must be in the format ###-###-####.
            </span>
          </div>
        </div>
      </div>
      
      <!-- Menu Number -->
      <div class="form-group">
        <label class="col-md-3 control-label">Menu Number</label>
        <div class="col-md-4 inputGroupContainer">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-ice-lolly-tasted"></i></span>
            <input name="menu_number" placeholder="Menu Number" class="form-control" type="text" ng-model="reg.user.menu_number" required>
          </div>
        </div>
        
        <!-- Error Messages -->
        <div class="col-md-5">
          <div>
            <!-- TODO --->
          </div>
        </div>
      </div>
      
      <!-- Button -->
      <div class="form-group">
        <label class="col-md-3 control-label"></label>
        <div class="col-md-4">
          <button type="submit" class="btn btn-success" ng-disabled="regForm.$invalid" ng-click="reg.submit()">Submit</button>
        </div>
      </div>
      
      <!-- Valid Form? -->
      <div class="form-group">
        <label class="col-md-3 control-label"></label>
        <div class="col-md-4">
          Form valid? {{ regForm.$valid }}
        </div>
      </div>
    </fieldset>
  </form>

  <div id="info" ng-if="reg.completed">
    First Name: {{ reg.user.first_name}} <br> Last Name: {{ reg.user.last_name}} <br> Email: {{ reg.user.email}} <br> Phone: {{ reg.user.phone }}
  </div>

  <br>
  <div class="bg-primary img-rounded">
    <h2 class="text-center">Sample JSON to Review later</h2>
    
    <div style="padding:20px">
      {{ reg.menuCategories | json }}
    </div>
  </div>
</div>
